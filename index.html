<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friends & Co. | The Studio</title>
    <style>
        body { margin: 0; padding: 0; background-color: #050505; color: #ffffff; font-family: 'Helvetica Neue', sans-serif; overflow-x: hidden; }
        canvas { display: block; position: fixed; top: 0; left: 0; z-index: -1; }
        
        /* Typography & Layout */
        .content-section {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 1;
            opacity: 0; /* Hidden initially for animation */
            transform: translateY(20px);
        }

        h1 { font-size: 5rem; font-weight: 800; letter-spacing: -2px; margin: 0; text-transform: uppercase; mix-blend-mode: exclusion; }
        p { font-size: 1.2rem; max-width: 600px; line-height: 1.6; color: #cccccc; mix-blend-mode: exclusion; }
        
        /* THE HOLOGRAPHIC BUTTON */
.btn {
    position: relative;
    padding: 20px 50px;
    margin-top: 30px;
    
    /* Typography */
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: #d4af37; /* Matches your Gold Particles */
    
    /* The Glass Effect */
    background: rgba(20, 20, 20, 0.6);
    border: 1px solid rgba(212, 175, 55, 0.3);
    backdrop-filter: blur(10px); /* Blurs the 3D particles behind it */
    
    cursor: pointer;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    z-index: 10;
}

/* The "Scanline" Shine Effect */
.btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.4), transparent);
    transition: 0.6s;
}

/* Hover State - The "Power Up" */
.btn:hover {
    color: #050505; /* Text turns black for contrast */
    background: #d4af37; /* Solid Gold */
    box-shadow: 0 0 30px rgba(212, 175, 55, 0.6); /* Neon Glow */
    border-color: #d4af37;
    transform: translateY(-3px); /* Lifts slightly */
}

/* Trigger the shine on hover */
.btn:hover::before {
    left: 100%;
}

        /* Scroll Progress Bar */
        .progress { position: fixed; top: 0; left: 0; height: 4px; background: #d4af37; width: 0%; z-index: 100; }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
</head>
<body>

    <div class="progress" id="progressBar"></div>

    <div class="content-section" id="hero">
        <h1>Friends & Co.</h1>
        <p>A workspace for the obsessed.</p>
    </div>

    <div class="content-section" id="rules">
        <h1>Silence is Currency</h1>
        <p>No calls. No chaos. Just deep work.</p>
    </div>

    <div class="content-section" id="membership">
        <h1>Limited Access</h1>
        <p>We don't sell coffee. We sell focus.</p>
        <button class="btn">Apply for Entry</button>
    </div>

    <script>
        // --- 1. SETUP SCENE ---
        const scene = new THREE.Scene();
        // Add subtle fog for depth
        scene.fog = new THREE.FogExp2(0x050505, 0.05);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Performance optimization
        document.body.appendChild(renderer.domElement);

        // --- 2. CREATE FLASHY OBJECTS ---
        
        // A. The "Neural" Particles
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 3000;
        const posArray = new Float32Array(particlesCount * 3);

        for(let i = 0; i < particlesCount * 3; i++) {
            // Spread particles in a random cloud
            posArray[i] = (Math.random() - 0.5) * 15; 
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const material = new THREE.PointsMaterial({
            size: 0.03,
            color: 0xd4af37, // Gold/Coffee color
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending // Makes overlapping particles glow
        });
        const particlesMesh = new THREE.Points(particlesGeometry, material);
        scene.add(particlesMesh);

        // B. The "Structure" (Torus Knot Wireframe)
        const geo = new THREE.TorusKnotGeometry(2, 0.6, 100, 16);
        const mat = new THREE.MeshBasicMaterial({ color: 0x444444, wireframe: true, transparent: true, opacity: 0.1 });
        const torusKnot = new THREE.Mesh(geo, mat);
        scene.add(torusKnot);

        camera.position.z = 5;

        // --- 3. ANIMATION LOOP ---
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;

        // Interaction: Mouse Parallax
        document.addEventListener('mousemove', (event) => {
            mouseX = event.clientX - window.innerWidth / 2;
            mouseY = event.clientY - window.innerHeight / 2;
        });

        const clock = new THREE.Clock();

        function animate() {
            targetX = mouseX * 0.001;
            targetY = mouseY * 0.001;

            // Smooth rotation based on mouse
            particlesMesh.rotation.y += 0.05 * (targetX - particlesMesh.rotation.y);
            particlesMesh.rotation.x += 0.05 * (targetY - particlesMesh.rotation.x);
            torusKnot.rotation.y += 0.002; // Constant slow spin
            torusKnot.rotation.x += 0.002;

            // Pulse effect
            const time = clock.getElapsedTime();
            particlesMesh.position.y = Math.sin(time) * 0.2;

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        // --- 4. SCROLL ANIMATION (GSAP) ---
        gsap.registerPlugin(ScrollTrigger);

        // Animate text sections in
        gsap.utils.toArray('.content-section').forEach(section => {
            gsap.to(section, {
                opacity: 1,
                y: 0,
                duration: 1,
                scrollTrigger: {
                    trigger: section,
                    start: "top 70%",
                    end: "top 30%",
                    toggleActions: "play none none reverse"
                }
            });
        });

        // Animate Camera Fly-Through on scroll
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: 1
            }
        });

        // Move camera deeper into the scene as user scrolls
        tl.to(camera.position, { z: 0.5, ease: "power1.inOut" })
          .to(particlesMesh.rotation, { z: 2, ease: "none" }, "<") // Rotate particles while flying
          .to("#progressBar", { width: "100%" }, "<");

        // Handle Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>

</html>
